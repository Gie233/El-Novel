<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Eighty-Six | El-Novel</title>
  <link rel="stylesheet" href="Styles/Style.css" />
</head>
<body>
  <header>
    <a href="index.html" class="logo">El-Novel</a>
    <nav class="nav-center">
      <a href="index.html">Home</a>
      <a href="novels.html" class="active">Novels</a>
      <a href="explore.html">Explore</a>
      <a href="joinUs.html" >Join Us</a>
    </nav>
    <div class="theme-toggle">
      <input type="checkbox" id="mode-switch">
      <label for="mode-switch" class="switch"></label>
    </div>
  </header>

  <main class="novel-detail">
    <div class="detail-container">
      <div class="detail-content">
        <div class="detail-cover">
          <img src="Library/Eightysix.jpg" alt="Eighty-Six">
        </div>

        <div class="detail-info">
          <h2>Eighty-Six</h2>
          <p class="author"><strong>Author:</strong> Asato Asato</p>
          <div class="rating">★4.2/5</div>
          <p><strong>Genre:</strong> Sci-Fi, Romance, War, Action</p>

          <p class="desc">Perang Tanpa Korban Jiwa.

            Republik San Magnolia telah lama diserang oleh pasukan drone tak berawak dari Kekaisaran Giadian yang dikenal sebagai Legion. Setelah bertahun-tahun melakukan penelitian yang melelahkan, Republik akhirnya mengembangkan drone otonom mereka sendiri, mengubah perjuangan timpang tersebut menjadi perang tanpa korban jiwa—setidaknya, itulah klaim pemerintah.
            
            Namun kenyataannya, tidak ada yang namanya perang tanpa darah. Di luar tembok benteng yang melindungi delapan puluh lima wilayah Republik, terdapat Sektor Delapan Puluh Enam yang “tidak dianggap ada”. Para pemuda dan pemudi dari tanah terbuang itu diberi cap sebagai Eighty-Six, dan setelah dicabut kemanusiaannya, merekalah yang mengendalikan senjata “tak berawak” tersebut di medan perang…
            
            Shin adalah pemimpin satu skuadron Eighty-Six. Lena adalah seorang “handler” yang mengomandoi unit tersebut dari garis belakang yang jauh melalui teknologi komunikasi khusus.
            
            Kisah perpisahan tentang perjuangan keras dan menyedihkan antara keduanya pun dimulai!/p>

          <div class="review-box">
            <h3>Reviewer’s Thoughts</h3>
            <p>Novel ini benar-benar berhasil menampilkan berbagai emosi: kekejaman, keputusasaan, rasa tidak berdaya, kebodohan, dan optimisme. Ini adalah novel yang suram dan gelap—bukan gelap seperti novel edgy yang berlebihan, tetapi gelap dengan cara yang lebih realistis. Orang-orang mati, tiba-tiba dan tanpa peringatan. Tidak ada monolog murahan di tengah pertempuran, tidak ada berjam-jam mengucapkan mantra sementara lawan diam saja, tidak ada teriakan nama jurus setiap kali menyerang. Pertarungannya terasa nyata tanpa semua omong kosong itu.</p>
          </div>

          <section class="novel-pv">
            <h3>Promotional Video</h3>

            <div class="pv-wrapper">
              <iframe
                src="https://www.youtube.com/embed/wXg_Lma3FI?si=qM1iVNfa_COIhfT1"
                title="Novel Promotional Video"
                frameborder="0"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen>
              </iframe>
            </div>
          </section>

          <div class="detail-buttons">
            <a href="Novels.html" class="btn-small">← Back to Novels</a>
            <a href="https://86-eighty-six.fandom.com/wiki/86_-_Eighty_Six_-_Wiki" class="btn-small">More Info</a>
          </div>
        </div>
      </div>
    </div>
  </main>
  <footer>
    <p>© 2025 El-Novel. All rights reserved.</p>
    <div class="footer-links">
      <a href="AboutUs.html">About Us</a> 
    </div>
  </footer>

  <script>
    const switchToggle = document.getElementById("mode-switch");
    switchToggle.addEventListener("change", () => {
      document.body.classList.toggle("light-mode", switchToggle.checked);
    });
    const modeSwitch = document.getElementById("mode-switch");

// Ambil mode dari localStorage
const savedMode = localStorage.getItem("theme");
if (savedMode === "light") {
  document.body.classList.add("light-mode");
  modeSwitch.checked = true;
}

// Ketika switch diubah
modeSwitch.addEventListener("change", () => {
  if (modeSwitch.checked) {
    document.body.classList.add("light-mode");
    localStorage.setItem("theme", "light");
  } else {
    document.body.classList.remove("light-mode");
    localStorage.setItem("theme", "dark");
  }
});

// ===============================
// VISIT COUNTER FOR NOVEL DETAIL
// ===============================
function trackNovelVisit() {
    const titleElement = document.querySelector("h2");
    if (!titleElement) return; // stop if not a detail page

    const novelTitle = titleElement.innerText;
    const today = new Date().toISOString().slice(0, 10);

    const now = new Date();
    const weekKey = `${now.getFullYear()}-W${Math.ceil(now.getDate() / 7)}`;
    const monthKey = `${now.getFullYear()}-${now.getMonth() + 1}`;

    function load(key, def) {
        return JSON.parse(localStorage.getItem(key)) || def;
    }
    function save(key, data) {
        localStorage.setItem(key, JSON.stringify(data));
    }

    // === DAILY ===
    let daily = load("dailyVisits", {});
    let dailyDate = localStorage.getItem("dailyDate");
    if (dailyDate !== today) {
        daily = {};
        localStorage.setItem("dailyDate", today);
    }
    daily[novelTitle] = (daily[novelTitle] || 0) + 1;
    save("dailyVisits", daily);

    // === WEEKLY ===
    let weekly = load("weeklyVisits", {});
    let weeklyDate = localStorage.getItem("weeklyStart");
    if (weeklyDate !== weekKey) {
        weekly = {};
        localStorage.setItem("weeklyStart", weekKey);
    }
    weekly[novelTitle] = (weekly[novelTitle] || 0) + 1;
    save("weeklyVisits", weekly);

    // === MONTHLY ===
    let monthly = load("monthlyVisits", {});
    let monthlyDate = localStorage.getItem("monthlyStart");
    if (monthlyDate !== monthKey) {
        monthly = {};
        localStorage.setItem("monthlyStart", monthKey);
    }
    monthly[novelTitle] = (monthly[novelTitle] || 0) + 1;
    save("monthlyVisits", monthly);
}



// ====================================================
// RANKING PAGE — LOAD DATA
// ====================================================
function loadRanking(type, containerId = "rankingList") {
    const container = document.getElementById(containerId);
    if (!container) return;

    const data = JSON.parse(localStorage.getItem(type + "Visits")) || {};
    const sorted = Object.entries(data).sort((a, b) => b[1] - a[1]);

    container.innerHTML = "";

    if (sorted.length === 0) {
        container.innerHTML = "<li style='text-align:center;'>Belum ada data.</li>";
        return;
    }

    sorted.forEach(([title, count], i) => {
        container.innerHTML += `
            <li>
                <span class="rank-num">${i + 1}</span>
                <span class="rank-title">${title}</span>
                <span style="float:right;color:gray;">${count} views</span>
            </li>
        `;
    });
}

  </script>
</body>
</html>
