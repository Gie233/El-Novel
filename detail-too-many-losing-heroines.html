<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Too Many Losing Heroines! | El-Novel</title>
  <link rel="stylesheet" href="Styles/Style.css" />
</head>
<body>
  <header>
    <a href="index.html" class="logo">El-Novel</a>
    <nav class="nav-center">
      <a href="index.html">Home</a>
      <a href="novels.html" class="active">Novels</a>
      <a href="explore.html">Explore</a>
      <a href="joinUs.html" >Join Us</a>
    </nav>
    <div class="theme-toggle">
      <input type="checkbox" id="mode-switch">
      <label for="mode-switch" class="switch"></label>
    </div>
  </header>

  <main class="novel-detail">
    <div class="detail-container">
      <div class="detail-content">
        <div class="detail-cover">
          <img src="Library/TMLH.jpg" alt="Too Many Losing Heroines!">
        </div>

        <div class="detail-info">
          <h2>Too Many Losing Heroines!</h2>
          <p class="author"><strong>Author:</strong> Takibi Amamori</p>
          <div class="rating">★4.6/5</div>
          <p><strong>Genre:</strong> Romance, School, Comedy, Slice of Life</p>

          <p class="desc">Kousuke, seorang siswa biasa, entah bagaimana terus-menerus bertemu dengan gadis-gadis yang ditakdirkan kalah dalam kisah romansa. Bertekad untuk menulis ulang nasib mereka, ia membantu masing-masing dari mereka menemukan harga diri dan kebahagiaan—kadang dengan humor, kadang dengan patah hati. Seiring ia mengubah hidup mereka, ia menyadari bahwa mungkin ia juga sedang menulis ulang hidupnya sendiri.</p>

          <div class="review-box">
            <h3>Reviewer’s Thoughts</h3>
            <p>Cerdas, lucu, dan secara mengejutkan memiliki kedalaman. Cerita ini memainkan berbagai trope rom-com sambil menunjukkan kehangatan dan empati yang tulus terhadap para karakternya.</p>
          </div>

          <section class="novel-pv">
            <h3>Promotional Video</h3>

            <div class="pv-wrapper">
              <iframe
                src="https://youtube.com/embed/4hNkfpYhFZc?si=_wYh6xrIALbhKFTF"
                title="Novel Promotional Video"
                frameborder="0"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen>
              </iframe>
            </div>
          </section>

          <div class="detail-buttons">
            <a href="Novels.html" class="btn-small">← Back to Novels</a>
            <a href="https://makeine.fandom.com/wiki/Too_Many_Losing_Heroines_Wiki" class="btn-small">More Info</a>
          </div>
        </div>
      </div>
    </div>
  </main>

  
  <footer>
    <p>© 2025 El-Novel. All rights reserved.</p>
    <div class="footer-links">
      <a href="AboutUs.html">About Us</a> 
    </div>
  </footer>

  <script>
   const switchToggle = document.getElementById("mode-switch");
    switchToggle.addEventListener("change", () => {
      document.body.classList.toggle("light-mode", switchToggle.checked);
    });
    const modeSwitch = document.getElementById("mode-switch");

// Ambil mode dari localStorage
const savedMode = localStorage.getItem("theme");
if (savedMode === "light") {
  document.body.classList.add("light-mode");
  modeSwitch.checked = true; // checkbox ikut aktif
}

// Saat toggle di-klik
modeSwitch.addEventListener("change", () => {
  if (modeSwitch.checked) {
    document.body.classList.add("light-mode");
    localStorage.setItem("theme", "light"); // simpan pilihan
  } else {
    document.body.classList.remove("light-mode");
    localStorage.setItem("theme", "dark"); // simpan pilihan
  }
});

// Ambil judul novel dari halaman (gunakan judul di <h2>)
const novelTitle = document.querySelector("h2").innerText;

// Ambil tanggal hari ini
const today = new Date().toISOString().slice(0, 10);

// --- Fungsi Ambil & Simpan ---
function getData(key, defaultValue) {
    return JSON.parse(localStorage.getItem(key)) || defaultValue;
}

function saveData(key, value) {
    localStorage.setItem(key, JSON.stringify(value));
}

// --- DAILY COUNTER ---
let daily = getData("dailyVisits", {});
let dailyDate = localStorage.getItem("dailyDate");

if (dailyDate !== today) {
    daily = {}; // reset harian
    localStorage.setItem("dailyDate", today);
}

// tambah kunjungan
daily[novelTitle] = (daily[novelTitle] || 0) + 1;
saveData("dailyVisits", daily);

// --- WEEKLY COUNTER ---
let weekly = getData("weeklyVisits", {});
let weeklyStart = localStorage.getItem("weeklyStart");

const now = new Date();
const weekYear = `${now.getFullYear()}-W${Math.ceil(now.getDate() / 7)}`;

if (weeklyStart !== weekYear) {
    weekly = {}; // reset mingguan
    localStorage.setItem("weeklyStart", weekYear);
}

weekly[novelTitle] = (weekly[novelTitle] || 0) + 1;
saveData("weeklyVisits", weekly);

// --- MONTHLY COUNTER ---
let monthly = getData("monthlyVisits", {});
let monthlyStart = localStorage.getItem("monthlyStart");
const monthYear = `${now.getFullYear()}-${now.getMonth()+1}`;

if (monthlyStart !== monthYear) {
    monthly = {}; // reset bulanan
    localStorage.setItem("monthlyStart", monthYear);
}

monthly[novelTitle] = (monthly[novelTitle] || 0) + 1;
saveData("monthlyVisits", monthly);
  </script>
</body>
</html>
