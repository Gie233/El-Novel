<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Shadow Slave | El-Novel</title>
  <link rel="stylesheet" href="Styles/Style.css" />
</head>
<body>
  <header>
    <a href="index.html" class="logo">El-Novel</a>
    <nav class="nav-center">
      <a href="index.html">Home</a>
      <a href="novels.html" class="active">Novels</a>
      <a href="explore.html">Explore</a>
      <a href="joinUs.html" >Join Us</a>
    </nav>
    <div class="theme-toggle">
      <input type="checkbox" id="mode-switch">
      <label for="mode-switch" class="switch"></label>
    </div>
  </header>

  <main class="novel-detail">
    <div class="detail-container">
      <div class="detail-content">
        <div class="detail-cover">
          <img src="Library/SdwSlv.jpg" alt="Shadow Slave">
        </div>

        <div class="detail-info">
          <h2>Shadow Slave</h2>
          <p class="author"><strong>Author:</strong> Guiltythree</p>
          <div class="rating">‚òÖ4.7/5</div>
          <p><strong>Genre:</strong> Fantasy, Post-Apocalyptic, Adventure, Action</p>

          <p class="desc">Setelah kiamat misterius, mimpi buruk menjadi nyata dan umat manusia menghadapi kepunahan. Sunny, seorang pemuda sinis, terbangun di dunia tempat bayangan dapat membunuh dan mimpi menjelma menjadi monster. Diberikan kemampuan terkutuk untuk mengendalikan bayangannya sendiri, ia harus bangkit melalui berbagai penderitaan, mengungkap misteri dunianya, dan menghadapi kegelapan dalam dirinya sendiri..</p>

          <div class="review-box">
            <h3>Reviewer‚Äôs Thoughts</h3>
            <p>
              Gelap, kasar, dan penuh emosi. Novel ini dengan sempurna menyeimbangkan aksi, keputusasaan, dan pencarian jati diri dalam sebuah dunia yang terasa hidup sekaligus indah dengan cara yang kejam.
              </p>
          </div>

          <section class="novel-pv no-pv">
            <h3>Promotional Video</h3>
          
            <div class="pv-placeholder">
             <span>üé¨ Promotional video is not available for this novel.</span>
            </div>
         </section>

          <div class="detail-buttons">
            <a href="Novels.html" class="btn-small">‚Üê Back to Novels</a>
            <a href="https://shadowslave.fandom.com/wiki/Shadow_Slave_Wiki" class="btn-small">More Info</a>
          </div>
        </div>
      </div>
    </div>
  </main>
  <footer>
    <p>¬© 2025 El-Novel. All rights reserved.</p>
    <div class="footer-links">
      <a href="AboutUs.html">About Us</a> 
    </div>
  </footer>

  <script>
    const switchToggle = document.getElementById("mode-switch");
    switchToggle.addEventListener("change", () => {
      document.body.classList.toggle("light-mode", switchToggle.checked);
    });
    const modeSwitch = document.getElementById("mode-switch");

// Ambil mode dari localStorage
const savedMode = localStorage.getItem("theme");
if (savedMode === "light") {
  document.body.classList.add("light-mode");
  modeSwitch.checked = true; // checkbox ikut aktif
}

// Saat toggle di-klik
modeSwitch.addEventListener("change", () => {
  if (modeSwitch.checked) {
    document.body.classList.add("light-mode");
    localStorage.setItem("theme", "light"); // simpan pilihan
  } else {
    document.body.classList.remove("light-mode");
    localStorage.setItem("theme", "dark"); // simpan pilihan
  }
});

// Ambil judul novel dari halaman (gunakan judul di <h2>)
  const novelTitle = document.querySelector("h2").innerText;

// Ambil tanggal hari ini
const today = new Date().toISOString().slice(0, 10);

// --- Fungsi Ambil & Simpan ---
function getData(key, defaultValue) {
    return JSON.parse(localStorage.getItem(key)) || defaultValue;
}

function saveData(key, value) {
    localStorage.setItem(key, JSON.stringify(value));
}

// --- DAILY COUNTER ---
let daily = getData("dailyVisits", {});
let dailyDate = localStorage.getItem("dailyDate");

if (dailyDate !== today) {
    daily = {}; // reset harian
    localStorage.setItem("dailyDate", today);
}

// tambah kunjungan
daily[novelTitle] = (daily[novelTitle] || 0) + 1;
saveData("dailyVisits", daily);

// --- WEEKLY COUNTER ---
let weekly = getData("weeklyVisits", {});
let weeklyStart = localStorage.getItem("weeklyStart");

const now = new Date();
const weekYear = `${now.getFullYear()}-W${Math.ceil(now.getDate() / 7)}`;

if (weeklyStart !== weekYear) {
    weekly = {}; // reset mingguan
    localStorage.setItem("weeklyStart", weekYear);
}

weekly[novelTitle] = (weekly[novelTitle] || 0) + 1;
saveData("weeklyVisits", weekly);

// --- MONTHLY COUNTER ---
let monthly = getData("monthlyVisits", {});
let monthlyStart = localStorage.getItem("monthlyStart");
const monthYear = `${now.getFullYear()}-${now.getMonth()+1}`;

if (monthlyStart !== monthYear) {
    monthly = {}; // reset bulanan
    localStorage.setItem("monthlyStart", monthYear);
}

monthly[novelTitle] = (monthly[novelTitle] || 0) + 1;
saveData("monthlyVisits", monthly);
  
  </script>
</body>
</html>
