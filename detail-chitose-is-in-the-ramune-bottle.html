<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Chitose Is In The Ramune Bottle | El-Novel</title>
  <link rel="stylesheet" href="Styles/Style.css" />
</head>
<body>
  <header>
    <a href="index.html" class="logo">El-Novel</a>
    <nav class="nav-center">
      <a href="index.html">Home</a>
      <a href="novels.html" class="active">Novels</a>
      <a href="explore.html">Explore</a>
      <a href="joinUs.html" >Join Us</a>
    </nav>
    <div class="theme-toggle">
      <input type="checkbox" id="mode-switch">
      <label for="mode-switch" class="switch"></label>
    </div>
  </header>

  <main class="novel-detail">
    <div class="detail-container">
      <div class="detail-content">
        <div class="detail-cover">
          <img src="Library/Chito.jpg" alt="Chitose Is In The Ramune Bottle">
        </div>

        <div class="detail-info">
          <h2>Chitose Is In The Ramune Bottle</h2>
          <p class="author"><strong>Author:</strong> Hiromu</p>
          <div class="rating">★4.4/5</div>
          <p><strong>Genre:</strong> Romance, School, Slice of Life</p>

          <p class="desc">Saku Chitose is the golden boy of high school—charismatic, confident, and popular. But beneath his flawless exterior lies a genuine desire to understand and help others. When a socially isolated classmate disappears, Chitose’s interactions begin to reveal the complexities of friendship, empathy, and what it means to be truly kind.</p>

          <div class="review-box">
            <h3>Reviewer’s Thoughts</h3>
            <p>“Ini adalah salah satu light novel terbaik yang pernah saya baca. Jika kamu tidak menyukai arc pertama yang berfokus pada membantu seorang otaku kembali ke sekolah, tolong jangan langsung berhenti membaca LN ini. Volume pertama menampilkan karakter utama pria, Chitose, yang merupakan seorang riajuu, agak narsistik, dan memiliki beberapa sifat lain yang mungkin tidak kamu sukai pada awalnya. Namun, itu hanyalah permukaan—ceritanya akan berkembang jauh, jauh lebih baik setelahnya.

              Seri ini juga sangat berhasil menggambarkan emosi para karakter, pemikiran terdalam mereka, serta hal-hal yang mereka perjuangkan, ditambah dialog-dialog yang sangat bagus. Setiap volume memiliki satu tokoh perempuan utama dan drama seputarnya, yang menurut saya sangat menyenangkan untuk diikuti."
            </p>
          </div>

          <section class="novel-pv">
            <h3>Promotional Video</h3>

            <div class="pv-wrapper">
              <iframe
                src="https://www.youtube.com/embed/HintXCQ2G5M?si=rLXp8OBgmh6N-4ZA"
                title="Novel Promotional Video"
                frameborder="0"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                allowfullscreen>
              </iframe>
            </div>
          </section>

          <div class="detail-buttons">
            <a href="Novels.html" class="btn-small">← Back to Novels</a>
            <a href="https://chiramune.fandom.com/wiki/Chitose_Is_in_the_Ramune_Bottle" class="btn-small">More Info</a>
          </div>
        </div>
      </div>
    </div>
  </main>
  <footer>
    <p>© 2025 El-Novel. All rights reserved.</p>
    <div class="footer-links">
      <a href="AboutUs.html">About Us</a> 
    </div>
  </footer>
  <footer><p>© 2025 El-Novel. All rights reserved.</p></footer>

  <script>
    const switchToggle = document.getElementById("mode-switch");
    switchToggle.addEventListener("change", () => {
      document.body.classList.toggle("light-mode", switchToggle.checked);
    });
const modeSwitch = document.getElementById("mode-switch");

// Ambil mode dari localStorage
const savedMode = localStorage.getItem("theme");
if (savedMode === "light") {
  document.body.classList.add("light-mode");
  modeSwitch.checked = true;
}

// Ketika switch diubah
modeSwitch.addEventListener("change", () => {
  if (modeSwitch.checked) {
    document.body.classList.add("light-mode");
    localStorage.setItem("theme", "light");
  } else {
    document.body.classList.remove("light-mode");
    localStorage.setItem("theme", "dark");
  }
});

// VISIT COUNTER FOR NOVEL DETAIL
function trackNovelVisit() {
    const titleElement = document.querySelector("h2");
    if (!titleElement) return; // stop if not a detail page

    const novelTitle = titleElement.innerText;
    const today = new Date().toISOString().slice(0, 10);

    const now = new Date();
    const weekKey = `${now.getFullYear()}-W${Math.ceil(now.getDate() / 7)}`;
    const monthKey = `${now.getFullYear()}-${now.getMonth() + 1}`;

    function load(key, def) {
        return JSON.parse(localStorage.getItem(key)) || def;
    }
    function save(key, data) {
        localStorage.setItem(key, JSON.stringify(data));
    }

    // === DAILY ===
    let daily = load("dailyVisits", {});
    let dailyDate = localStorage.getItem("dailyDate");
    if (dailyDate !== today) {
        daily = {};
        localStorage.setItem("dailyDate", today);
    }
    daily[novelTitle] = (daily[novelTitle] || 0) + 1;
    save("dailyVisits", daily);

    // === WEEKLY ===
    let weekly = load("weeklyVisits", {});
    let weeklyDate = localStorage.getItem("weeklyStart");
    if (weeklyDate !== weekKey) {
        weekly = {};
        localStorage.setItem("weeklyStart", weekKey);
    }
    weekly[novelTitle] = (weekly[novelTitle] || 0) + 1;
    save("weeklyVisits", weekly);

    // === MONTHLY ===
    let monthly = load("monthlyVisits", {});
    let monthlyDate = localStorage.getItem("monthlyStart");
    if (monthlyDate !== monthKey) {
        monthly = {};
        localStorage.setItem("monthlyStart", monthKey);
    }
    monthly[novelTitle] = (monthly[novelTitle] || 0) + 1;
    save("monthlyVisits", monthly);
}

// RANKING PAGE — LOAD DATA
function loadRanking(type, containerId = "rankingList") {
    const container = document.getElementById(containerId);
    if (!container) return;

    const data = JSON.parse(localStorage.getItem(type + "Visits")) || {};
    const sorted = Object.entries(data).sort((a, b) => b[1] - a[1]);

    container.innerHTML = "";

    if (sorted.length === 0) {
        container.innerHTML = "<li style='text-align:center;'>Belum ada data.</li>";
        return;
    }

    sorted.forEach(([title, count], i) => {
        container.innerHTML += `
            <li>
                <span class="rank-num">${i + 1}</span>
                <span class="rank-title">${title}</span>
                <span style="float:right;color:gray;">${count} views</span>
            </li>
        `;
    });
}

  </script>
</body>
</html>
